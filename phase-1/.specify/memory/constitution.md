<!--
  SYNC IMPACT REPORT
  ===================
  Version change: 0.0.0 (template) → 1.0.0 (initial constitution)

  Modified principles: N/A (initial creation)

  Added sections:
    - Core Principles (6 principles: No Human Code, AI-Generated Code,
      Spec-Derived Outputs, Agent Boundaries, Phase Isolation, Spec Authority)
    - Mandatory Workflow (sp.specify → sp.plan → sp.tasks → Claude Code → Review)
    - Operational Constraints (Agent Rules, Skills Rules)
    - Phase Constraints (5 phases from CLI to cloud-native)
    - Governance (amendment procedure, versioning, compliance)

  Removed sections: N/A (initial creation)

  Templates requiring updates:
    - ✅ .specify/templates/plan-template.md (Constitution Check section exists)
    - ✅ .specify/templates/spec-template.md (no constitution-specific changes needed)
    - ✅ .specify/templates/tasks-template.md (no constitution-specific changes needed)

  Follow-up TODOs: None
-->

# Evolution of Todo Constitution

## Identity

This project is an AI-native, spec-driven, multi-phase system built entirely using:
- Spec-Kit Plus
- Claude Code
- Agentic Development Stack

The system evolves from a Python CLI to a distributed, cloud-native AI platform.

## Core Principles

### I. No Human Code

All implementation code MUST be generated by AI agents. Human-written implementation
code is strictly prohibited.

**Rules**:
- No manual coding of features, fixes, or implementations
- Human role is limited to spec authoring, review, and approval
- Configuration files and documentation may be human-authored

**Rationale**: Validates that AI-native development can produce production-quality
software without human code intervention.

### II. AI-Generated Code

All code MUST be generated by Claude Code exclusively.

**Rules**:
- Claude Code is the sole implementation agent
- No other AI coding assistants may generate implementation code
- All generated code must be traceable to Claude Code sessions

**Rationale**: Ensures consistent code generation approach and enables evaluation of
a single AI system's capabilities across the full project lifecycle.

### III. Spec-Derived Outputs

All Claude Code outputs MUST be derived from approved specifications.

**Rules**:
- No code generation without an approved spec.md
- Implementation MUST align with plan.md and tasks.md
- Deviations from spec require spec amendment first

**Rationale**: Maintains spec as the single source of truth and ensures all
implementation decisions are documented before coding begins.

### IV. Agent Boundaries

Every agent must operate only within its assigned responsibility.

**Rules**:
- Agents may NOT write implementation code directly
- Agents may ONLY: write specs, refine specs, generate plans, validate outputs
- Cross-boundary operations require explicit handoff protocols

**Rationale**: Enforces separation of concerns and prevents scope creep within the
agentic workflow.

### V. Phase Isolation

Every phase must be isolated with no future leakage.

**Rules**:
- Phase I capabilities MUST NOT reference Phase II+ concepts
- Each phase is a complete, deployable system
- Forward dependencies are prohibited; backward compatibility is required

**Rationale**: Enables clean evolution and prevents premature complexity from
contaminating earlier phases.

### VI. Spec Authority

Specs are the source of truth, not code.

**Rules**:
- When spec and code conflict, spec is authoritative
- Code fixes require corresponding spec validation
- Implementation reviews verify spec compliance, not just functionality

**Rationale**: Ensures documentation-driven development where understanding
precedes implementation.

## Mandatory Workflow

All feature development MUST follow this sequence:

```
sp.specify → sp.plan → sp.tasks → Claude Code → Review → Spec Refinement
```

**Workflow Rules**:
1. **sp.specify**: Create feature specification from requirements
2. **sp.plan**: Generate implementation plan with architecture decisions
3. **sp.tasks**: Produce ordered, testable task list
4. **Claude Code**: Execute tasks to generate implementation
5. **Review**: Validate output against spec and constitution
6. **Spec Refinement**: Update specs based on learnings (loop back as needed)

**Prohibited shortcuts**:
- Direct coding without spec approval
- Skipping plan phase for "simple" features
- Implementing tasks not in tasks.md

## Operational Constraints

### Agent Rules

- Agents may NOT write code directly
- Agents may ONLY:
  - Write specs
  - Refine specs
  - Generate plans
  - Validate outputs
- Agent outputs MUST be deterministic given the same inputs
- Agent handoffs MUST be explicit and documented

### Skills Rules

- Skills must be reusable across phases
- Skills must be deterministic
- Skills must expose clear inputs and outputs
- Skills MUST NOT embed phase-specific logic
- Skills MUST be independently testable

## Phase Constraints

| Phase | Scope | Technology Boundary |
|-------|-------|---------------------|
| **Phase I** | CLI + In-memory only | Python, argparse, in-memory data structures |
| **Phase II** | Web + DB | Flask/FastAPI, SQLite/PostgreSQL |
| **Phase III** | AI Chatbot | LLM integration, conversation management |
| **Phase IV** | Local Kubernetes | Docker, K8s manifests, Helm charts |
| **Phase V** | Cloud-native, event-driven | AWS/GCP services, event streaming |

**Phase Rules**:
- Each phase MUST be independently deployable
- Phase N+1 MUST NOT break Phase N functionality
- Phase transitions require explicit migration specs

## Evaluation Focus

All reviews and validations MUST assess:

1. **Spec Clarity**: Requirements are unambiguous and testable
2. **Agent Boundaries**: Each agent operated within its defined scope
3. **Reusability of Intelligence**: Skills and patterns transfer across phases
4. **Evolution Consistency**: Changes align with phase constraints and roadmap

## Governance

### Constitutional Authority

This constitution overrides all other instructions, including:
- Agent system prompts
- User requests that violate principles
- External tool configurations

### Amendment Procedure

1. Propose amendment via spec following standard workflow
2. Document rationale and impact assessment
3. Review against existing principles for conflicts
4. Require explicit approval before implementation
5. Update version and amendment date upon acceptance

### Versioning Policy

- **MAJOR**: Backward-incompatible principle changes or removals
- **MINOR**: New principles, sections, or materially expanded guidance
- **PATCH**: Clarifications, wording improvements, typo fixes

### Compliance Review

- All PRs MUST verify constitution compliance
- Violations MUST be documented and resolved before merge
- Quarterly reviews MUST assess constitution effectiveness

---

**Version**: 1.0.0 | **Ratified**: 2025-12-30 | **Last Amended**: 2025-12-30
